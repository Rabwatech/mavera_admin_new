(()=>{var e={};e.id=970,e.ids=[970],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16072:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=s(50482),n=s(69108),r=s(62563),l=s.n(r),i=s(68300),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=["",{children:["admin",{children:["finance",{children:["reconciliation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,23917)),"/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/admin/finance/reconciliation/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,78062)),"/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/admin/finance/reconciliation/page.tsx"],x="/admin/finance/reconciliation/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/finance/reconciliation/page",pathname:"/admin/finance/reconciliation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},34514:(e,t,s)=>{Promise.resolve().then(s.bind(s,8289))},8289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(95344),n=s(3729),r=s(33733),l=s(48411),i=s(65719),d=s(96885),o=s(95269),c=s(66262);let x=()=>{let[e,t]=(0,n.useState)(!1),[s,x]=(0,n.useState)("thisMonth"),m=[{id:"SYS-001",bookingId:"B001",clientName:"Al-Rajhi Wedding",amount:5e4,date:"2024-11-20",source:"SYSTEM"},{id:"SYS-002",bookingId:"B002",clientName:"Golden Gala",amount:15e3,date:"2024-11-22",source:"SYSTEM"},{id:"SYS-003",bookingId:"B003",clientName:"Fahad & Sara",amount:25e3,date:"2024-11-23",source:"SYSTEM"}],p=[{id:"GW-001",bookingId:"B001",clientName:"Al-Rajhi Wedding",amount:5e4,date:"2024-11-20",source:"GATEWAY"},{id:"GW-002",bookingId:"B002",clientName:"Golden Gala",amount:14500,date:"2024-11-22",source:"GATEWAY"},{id:"GW-003",bookingId:"B003",clientName:"Fahad & Sara",amount:25e3,date:"2024-11-23",source:"GATEWAY"}],g=[{id:"ERP-001",bookingId:"B001",clientName:"Al-Rajhi Wedding",amount:5e4,date:"2024-11-20",source:"ERP"},{id:"ERP-002",bookingId:"B002",clientName:"Golden Gala",amount:15e3,date:"2024-11-22",source:"ERP"}],h=[{id:"DISC-001",bookingId:"B002",clientName:"Golden Gala",systemAmount:15e3,gatewayAmount:14500,erpAmount:15e3,difference:-500,status:"UNRESOLVED"},{id:"DISC-002",bookingId:"B003",clientName:"Fahad & Sara",systemAmount:25e3,gatewayAmount:25e3,erpAmount:0,difference:-25e3,status:"UNRESOLVED"}],u=e=>{alert(`Resolving discrepancy ${e}...`)},b=m.reduce((e,t)=>e+t.amount,0),j=p.reduce((e,t)=>e+t.amount,0),y=g.reduce((e,t)=>e+t.amount,0);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-8",children:[(0,a.jsxs)("div",{className:"bg-white border-b border-gray-200 px-8 py-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mavera-navy mb-2",children:"Payment Reconciliation"}),a.jsx("p",{className:"text-gray-500",children:"Compare payments across System, Payment Gateway, and ERP"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("select",{value:s,onChange:e=>x(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:border-mavera-gold focus:ring-2 focus:ring-mavera-gold/20 outline-none",children:[a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"thisWeek",children:"This Week"}),a.jsx("option",{value:"thisMonth",children:"This Month"}),a.jsx("option",{value:"custom",children:"Custom Range"})]}),a.jsx("button",{onClick:()=>{t(!0),setTimeout(()=>{alert("Reconciliation completed!"),t(!1)},2e3)},disabled:e,className:"px-6 py-2 bg-mavera-gold text-white rounded-xl font-bold hover:bg-mavera-goldHover disabled:opacity-50 flex items-center gap-2 transition-all",children:e?(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.Z,{size:18,className:"animate-spin"}),"Reconciling..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.Z,{size:18}),"Run Reconciliation"]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(l.Z,{size:20,className:"text-blue-600"}),a.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase",children:"System Total"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[b.toLocaleString()," SAR"]}),(0,a.jsxs)("p",{className:"text-xs text-blue-700 mt-1",children:[m.length," payments"]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(l.Z,{size:20,className:"text-green-600"}),a.jsx("p",{className:"text-xs font-bold text-green-600 uppercase",children:"Gateway Total"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[j.toLocaleString()," SAR"]}),(0,a.jsxs)("p",{className:"text-xs text-green-700 mt-1",children:[p.length," payments"]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(l.Z,{size:20,className:"text-purple-600"}),a.jsx("p",{className:"text-xs font-bold text-purple-600 uppercase",children:"ERP Total"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-900",children:[y.toLocaleString()," SAR"]}),(0,a.jsxs)("p",{className:"text-xs text-purple-700 mt-1",children:[g.length," payments"]})]}),(0,a.jsxs)("div",{className:"bg-red-50 rounded-xl p-4 border border-red-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(i.Z,{size:20,className:"text-red-600"}),a.jsx("p",{className:"text-xs font-bold text-red-600 uppercase",children:"Discrepancies"})]}),a.jsx("p",{className:"text-2xl font-bold text-red-900",children:h.filter(e=>"UNRESOLVED"===e.status).length}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"need attention"})]})]})]}),(0,a.jsxs)("div",{className:"px-8 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-mavera-navy flex items-center gap-2",children:[a.jsx(i.Z,{size:20,className:"text-red-600"}),"Discrepancies Found"]}),(0,a.jsxs)("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 flex items-center gap-2 transition-colors",children:[a.jsx(d.Z,{size:16}),"Export Report"]})]}),h.length>0?a.jsx("div",{className:"divide-y divide-gray-100",children:h.map(e=>(0,a.jsxs)("div",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:e.clientName}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Booking ID: ",e.bookingId]})]}),a.jsx("span",{className:`px-3 py-1 rounded-md text-xs font-bold border ${"UNRESOLVED"===e.status?"bg-red-50 text-red-600 border-red-200":"bg-green-50 text-green-600 border-green-200"}`,children:e.status})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"System"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-blue-900",children:[e.systemAmount.toLocaleString()," SAR"]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"Gateway"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-green-900",children:[e.gatewayAmount.toLocaleString()," SAR"]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-purple-600 font-medium mb-1",children:"ERP"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-purple-900",children:[e.erpAmount.toLocaleString()," SAR"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between bg-red-50 border border-red-200 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(o.Z,{size:16,className:"text-red-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-red-900",children:["Difference: ",(0,a.jsxs)("span",{className:"font-bold",children:[Math.abs(e.difference).toLocaleString()," SAR"]})]})]}),"UNRESOLVED"===e.status&&a.jsx("button",{onClick:()=>u(e.id),className:"px-4 py-1.5 bg-red-600 text-white rounded-lg text-xs font-medium hover:bg-red-700 transition-colors",children:"Resolve"})]})]},e.id))}):(0,a.jsxs)("div",{className:"px-6 py-12 text-center",children:[a.jsx(c.Z,{size:48,className:"mx-auto text-green-500 mb-4"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"No discrepancies found!"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All payments are reconciled correctly."})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:a.jsx("h2",{className:"text-lg font-bold text-mavera-navy",children:"Payment Comparison"})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Booking ID"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Client"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-500 uppercase",children:"System"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-500 uppercase",children:"Gateway"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-500 uppercase",children:"ERP"}),a.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-500 uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:m.map(e=>{let t=p.find(t=>t.bookingId===e.bookingId),s=g.find(t=>t.bookingId===e.bookingId),n=t&&t.amount!==e.amount||!s||s.amount!==e.amount;return(0,a.jsxs)("tr",{className:n?"bg-red-50":"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 font-mono font-medium text-gray-900",children:e.bookingId}),a.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:e.clientName}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(e.date).toLocaleDateString()}),(0,a.jsxs)("td",{className:"px-6 py-4 text-right font-mono text-gray-900",children:[e.amount.toLocaleString()," SAR"]}),a.jsx("td",{className:"px-6 py-4 text-right font-mono",children:t?(0,a.jsxs)("span",{className:t.amount===e.amount?"text-gray-900":"text-red-600 font-bold",children:[t.amount.toLocaleString()," SAR"]}):a.jsx("span",{className:"text-red-600 font-bold",children:"Missing"})}),a.jsx("td",{className:"px-6 py-4 text-right font-mono",children:s?(0,a.jsxs)("span",{className:s.amount===e.amount?"text-gray-900":"text-red-600 font-bold",children:[s.amount.toLocaleString()," SAR"]}):a.jsx("span",{className:"text-red-600 font-bold",children:"Missing"})}),a.jsx("td",{className:"px-6 py-4 text-center",children:n?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:[a.jsx(o.Z,{size:12}),"Mismatch"]}):(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-600 rounded text-xs font-bold",children:[a.jsx(c.Z,{size:12}),"Matched"]})})]},e.id)})})]})})]})]})]})}},96885:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},33733:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},65719:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},23917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>n,default:()=>l});let a=(0,s(86843).createProxy)(String.raw`/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/admin/finance/reconciliation/page.tsx`),{__esModule:n,$$typeof:r}=a,l=a.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,802,400],()=>s(16072));module.exports=a})();
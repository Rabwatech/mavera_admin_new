(()=>{var e={};e.id=852,e.ids=[852],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},73824:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=s(50482),r=s(69108),l=s(62563),d=s.n(l),n=s(68300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(t,i);let o=["",{children:["admin",{children:["activity-log",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,29024)),"/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/admin/activity-log/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,78062)),"/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/admin/activity-log/page.tsx"],x="/admin/activity-log/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/activity-log/page",pathname:"/admin/activity-log",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},95037:(e,t,s)=>{Promise.resolve().then(s.bind(s,86594))},86594:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a,r,l=s(95344),d=s(3729),n=s(51838),i=s(46327),o=s(38271),c=s(66262),x=s(67970),m=s(88534),p=s(96885),u=s(76394),g=s(55794),h=s(18822);(function(e){e.CREATED="CREATED",e.UPDATED="UPDATED",e.DELETED="DELETED",e.APPROVED="APPROVED",e.REJECTED="REJECTED"})(a||(a={})),function(e){e.BOOKING="BOOKING",e.INVOICE="INVOICE",e.PAYMENT="PAYMENT",e.CONTRACT="CONTRACT",e.ARRANGEMENT="ARRANGEMENT",e.VENDOR="VENDOR",e.DISCOUNT_CODE="DISCOUNT_CODE"}(r||(r={}));let y=()=>{let[e]=(0,d.useState)([{id:"LOG001",userId:"U001",userName:"Ahmed (Sales)",action:"CREATED",resource:"BOOKING",resourceId:"B001",resourceName:"Al-Rajhi Wedding",details:"Created new booking for Grand Ballroom",timestamp:"2024-11-30T10:30:00",ipAddress:"192.168.1.100"},{id:"LOG002",userId:"U002",userName:"Sara (Finance)",action:"APPROVED",resource:"PAYMENT",resourceId:"P001",resourceName:"57,000 SAR",details:"Approved payment for booking B001",timestamp:"2024-11-30T09:15:00",ipAddress:"192.168.1.101"},{id:"LOG003",userId:"U001",userName:"Ahmed (Sales)",action:"UPDATED",resource:"BOOKING",resourceId:"B002",resourceName:"Golden Gala",details:"Updated guest count from 200 to 250",timestamp:"2024-11-29T16:45:00",ipAddress:"192.168.1.100"},{id:"LOG004",userId:"U003",userName:"Khalid (Coordinator)",action:"CREATED",resource:"ARRANGEMENT",resourceId:"ARR001",resourceName:"Luxury Wedding",details:"Created arrangement details",timestamp:"2024-11-29T14:20:00",ipAddress:"192.168.1.102"},{id:"LOG005",userId:"U002",userName:"Sara (Finance)",action:"CREATED",resource:"INVOICE",resourceId:"INV-2024-005",resourceName:"Amendment Invoice",details:"Created amendment invoice for additional services",timestamp:"2024-11-28T11:30:00",ipAddress:"192.168.1.101"},{id:"LOG006",userId:"U001",userName:"Ahmed (Sales)",action:"DELETED",resource:"DISCOUNT_CODE",resourceId:"DC002",resourceName:"EXPIRED2024",details:"Deleted expired discount code",timestamp:"2024-11-28T10:00:00",ipAddress:"192.168.1.100"}]),[t,s]=(0,d.useState)("ALL"),[y,b]=(0,d.useState)("ALL"),[N,v]=(0,d.useState)("ALL"),E=e.filter(e=>{let s="ALL"===t||e.action===t,a="ALL"===y||e.resource===y,r="ALL"===N||e.userName===N;return s&&a&&r}),j=e=>{switch(e){case"CREATED":return l.jsx(n.Z,{size:16,className:"text-green-600"});case"UPDATED":return l.jsx(i.Z,{size:16,className:"text-blue-600"});case"DELETED":return l.jsx(o.Z,{size:16,className:"text-red-600"});case"APPROVED":return l.jsx(c.Z,{size:16,className:"text-green-600"});case"REJECTED":return l.jsx(x.Z,{size:16,className:"text-red-600"});default:return l.jsx(m.Z,{size:16,className:"text-gray-400"})}},A=e=>(0,l.jsxs)("span",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-bold border ${{CREATED:"bg-green-50 text-green-600 border-green-200",UPDATED:"bg-blue-50 text-blue-600 border-blue-200",DELETED:"bg-red-50 text-red-600 border-red-200",APPROVED:"bg-green-50 text-green-600 border-green-200",REJECTED:"bg-red-50 text-red-600 border-red-200"}[e]}`,children:[j(e),e]}),f=Array.from(new Set(e.map(e=>e.userName)));return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-8",children:[(0,l.jsxs)("div",{className:"bg-white border-b border-gray-200 px-8 py-6 mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"text-3xl font-bold text-mavera-navy mb-2 flex items-center gap-3",children:[l.jsx(m.Z,{size:32,className:"text-mavera-gold"}),"Activity Log"]}),l.jsx("p",{className:"text-gray-500",children:"Complete audit trail of all system actions"})]}),(0,l.jsxs)("button",{className:"px-6 py-3 bg-mavera-navy text-white rounded-xl font-bold hover:bg-mavera-navyLight flex items-center gap-2 transition-all",children:[l.jsx(p.Z,{size:18}),"Export Log"]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-6",children:[{label:"Total Actions",count:e.length,color:"text-gray-900"},{label:"Created",count:e.filter(e=>"CREATED"===e.action).length,color:"text-green-600"},{label:"Updated",count:e.filter(e=>"UPDATED"===e.action).length,color:"text-blue-600"},{label:"Deleted",count:e.filter(e=>"DELETED"===e.action).length,color:"text-red-600"},{label:"Approved",count:e.filter(e=>"APPROVED"===e.action).length,color:"text-purple-600"}].map((e,t)=>(0,l.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:e.label}),l.jsx("p",{className:`text-2xl font-bold ${e.color}`,children:e.count})]},t))})]}),(0,l.jsxs)("div",{className:"px-8",children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6 flex flex-col sm:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(u.Z,{size:18,className:"text-gray-400"}),l.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Filters:"})]}),(0,l.jsxs)("select",{value:t,onChange:e=>s(e.target.value),className:"px-4 py-2 border border-gray-200 rounded-xl focus:border-mavera-gold outline-none text-sm",children:[l.jsx("option",{value:"ALL",children:"All Actions"}),Object.values(a).map(e=>l.jsx("option",{value:e,children:e},e))]}),(0,l.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"px-4 py-2 border border-gray-200 rounded-xl focus:border-mavera-gold outline-none text-sm",children:[l.jsx("option",{value:"ALL",children:"All Resources"}),Object.values(r).map(e=>l.jsx("option",{value:e,children:e},e))]}),(0,l.jsxs)("select",{value:N,onChange:e=>v(e.target.value),className:"px-4 py-2 border border-gray-200 rounded-xl focus:border-mavera-gold outline-none text-sm",children:[l.jsx("option",{value:"ALL",children:"All Users"}),f.map(e=>l.jsx("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,l.jsxs)("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,l.jsxs)("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Timestamp"}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"User"}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Action"}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Resource"}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Details"}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"IP Address"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:E.map(e=>(0,l.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[l.jsx(g.Z,{size:14}),l.jsx("span",{children:new Date(e.timestamp).toLocaleString()})]})}),l.jsx("td",{className:"px-6 py-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(h.Z,{size:16,className:"text-gray-400"}),l.jsx("span",{className:"font-medium text-gray-900",children:e.userName})]})}),l.jsx("td",{className:"px-6 py-4",children:A(e.action)}),l.jsx("td",{className:"px-6 py-4",children:(0,l.jsxs)("div",{children:[l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium",children:e.resource}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.resourceName})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("p",{className:"text-gray-600",children:e.details||"-"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"font-mono text-xs text-gray-500",children:e.ipAddress||"-"})})]},e.id))})]}),0===E.length&&(0,l.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[l.jsx(m.Z,{size:48,className:"mx-auto mb-4 opacity-20"}),l.jsx("p",{children:"No activity logs found"})]})]})]})]})}},67970:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},96885:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},76394:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},51838:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},46327:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},38271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},18822:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},29024:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>d});let a=(0,s(86843).createProxy)(String.raw`/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/admin/activity-log/page.tsx`),{__esModule:r,$$typeof:l}=a,d=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,802,400],()=>s(73824));module.exports=a})();
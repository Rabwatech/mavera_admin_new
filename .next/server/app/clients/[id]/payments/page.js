(()=>{var e={};e.id=710,e.ids=[710],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27338:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c});var a=s(50482),r=s(69108),n=s(62563),i=s.n(n),l=s(68300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c=["",{children:["clients",{children:["[id]",{children:["payments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,99739)),"/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/clients/[id]/payments/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,78062)),"/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/clients/[id]/payments/page.tsx"],x="/clients/[id]/payments/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/clients/[id]/payments/page",pathname:"/clients/[id]/payments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27727:(e,t,s)=>{Promise.resolve().then(s.bind(s,99874))},99874:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(95344),r=s(3729),n=s(8428),i=s(25545),l=s(85814),d=s(95269),c=s(63024),o=s(48411),x=s(53148),m=s(96885),p=s(74243),u=s(36135),h=s(1960),y=s(78134),g=s(63598),j=s(91470);let b=()=>{let e=(0,n.useParams)(),t=(0,n.useRouter)(),{t:s,direction:b}=(0,y.Z)(),v=e.id,[f,N]=(0,r.useState)(null),[k,w]=(0,r.useState)(!1),[P]=(0,r.useState)({id:v,name:"Al-Rajhi Family",phone:"0501234567"}),[Z]=(0,r.useState)([{id:"P001",type:"deposit",typeLabel:"عربون",dueDate:"2024-09-01",paidDate:"2024-09-01",amount:5e4,method:"HyperPay",status:"Paid",reference:"HP-9921",receiptUrl:"/receipts/p001.pdf",bookingId:"B001",bookingName:"حفل زفاف - MAVERA 1"},{id:"P002",type:"installment",typeLabel:"دفعة أولى",dueDate:"2024-10-01",paidDate:"2024-10-01",amount:5e4,method:"Bank Transfer",status:"Paid",reference:"BT-101",receiptUrl:"/receipts/p002.pdf",bookingId:"B001",bookingName:"حفل زفاف - MAVERA 1"},{id:"P003",type:"installment",typeLabel:"دفعة ثانية",dueDate:"2024-10-10",amount:42500,method:"Mada",status:"Pending",reference:"MD-202",paymentLink:"https://checkout.riyadbank.com/pay/token_abc123",bookingId:"B001",bookingName:"حفل زفاف - MAVERA 1"},{id:"P004",type:"addon",typeLabel:"إضافة خدمات",dueDate:"2024-10-15",amount:15e3,status:"Overdue",bookingId:"B001",bookingName:"حفل زفاف - MAVERA 1"},{id:"P005",type:"installment",typeLabel:"دفعة نهائية",dueDate:"2024-11-01",amount:3e4,status:"Pending",paymentLink:"https://checkout.riyadbank.com/pay/token_xyz789",bookingId:"B002",bookingName:"حفل تخرج - MAVERA 2"}]),_=e=>{let t="bg-gray-100 text-gray-500 border-gray-200",r=a.jsx(i.Z,{size:12});return"Paid"===e?(t="bg-green-50 text-green-600 border-green-100",r=a.jsx(l.Z,{size:12})):"Pending"===e?(t="bg-orange-50 text-orange-600 border-orange-100",r=a.jsx(i.Z,{size:12})):"Overdue"===e&&(t="bg-red-50 text-red-600 border-red-100",r=a.jsx(d.Z,{size:12})),(0,a.jsxs)("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold border flex items-center gap-1 w-fit ${t}`,children:[r,"Paid"===e?s("payments.paid"):"Pending"===e?s("payments.pending"):s("payments.overdue")]})},z=e=>{let t="bg-blue-50 text-blue-600 border-blue-100";return"deposit"===e?t="bg-purple-50 text-purple-600 border-purple-100":"addon"===e&&(t="bg-amber-50 text-amber-600 border-amber-100"),a.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold border ${t}`,children:"deposit"===e?s("payments.deposit"):"installment"===e?s("payments.installment"):s("payments.addon")})},A=e=>{N(e),w(!0)},M=e=>{e.receiptUrl?window.open(e.receiptUrl,"_blank"):alert(s("payments.receiptNotAvailable"))},R=e=>{e.receiptUrl?alert(`${s("payments.downloadingReceipt")}: ${e.id}`):alert(s("payments.receiptNotAvailable"))},S=e=>{navigator.clipboard.writeText(e),alert(s("payments.linkCopied"))},L=Z.filter(e=>"Paid"===e.status).reduce((e,t)=>e+t.amount,0),C=Z.filter(e=>"Pending"===e.status).reduce((e,t)=>e+t.amount,0),D=Z.filter(e=>"Overdue"===e.status).reduce((e,t)=>e+t.amount,0),q=Z.reduce((e,t)=>e+t.amount,0);return Z.filter(e=>"Paid"===e.status),Z.filter(e=>"Pending"===e.status),Z.filter(e=>"Overdue"===e.status),(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>t.back(),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(c.Z,{size:20,className:"text-gray-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-mavera-navy",children:s("payments.title")}),(0,a.jsxs)("p",{className:"text-gray-500 text-sm",children:[P.name," - ",s("payments.subtitle")]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(g.Zb,{children:a.jsx(g.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s("payments.totalAmount")}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-mavera-navy",children:[q.toLocaleString()," SAR"]})]}),a.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center",children:a.jsx(o.Z,{size:24,className:"text-blue-500"})})]})})}),a.jsx(g.Zb,{children:a.jsx(g.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s("payments.totalPaid")}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[L.toLocaleString()," SAR"]})]}),a.jsx("div",{className:"w-12 h-12 rounded-full bg-green-50 flex items-center justify-center",children:a.jsx(l.Z,{size:24,className:"text-green-500"})})]})})}),a.jsx(g.Zb,{children:a.jsx(g.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s("payments.totalPending")}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[C.toLocaleString()," SAR"]})]}),a.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-50 flex items-center justify-center",children:a.jsx(i.Z,{size:24,className:"text-orange-500"})})]})})}),a.jsx(g.Zb,{children:a.jsx(g.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s("payments.totalOverdue")}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:[D.toLocaleString()," SAR"]})]}),a.jsx("div",{className:"w-12 h-12 rounded-full bg-red-50 flex items-center justify-center",children:a.jsx(d.Z,{size:24,className:"text-red-500"})})]})})})]}),(0,a.jsxs)(g.Zb,{children:[a.jsx(g.Ol,{children:a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("h3",{className:"text-lg font-bold text-mavera-navy flex items-center gap-2",children:[a.jsx(o.Z,{size:20}),s("payments.allPayments")," (",Z.length,")"]})})}),a.jsx(g.aY,{children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm min-w-[1000px]",children:[a.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-start",children:s("payments.paymentId")}),a.jsx("th",{className:"px-6 py-4 text-start",children:s("payments.type")}),a.jsx("th",{className:"px-6 py-4 text-start",children:s("payments.booking")}),a.jsx("th",{className:"px-6 py-4 text-start",children:s("payments.dueDate")}),a.jsx("th",{className:"px-6 py-4 text-start",children:s("payments.amount")}),a.jsx("th",{className:"px-6 py-4 text-start",children:s("payments.method")}),a.jsx("th",{className:"px-6 py-4 text-start",children:s("payments.status")}),a.jsx("th",{className:"px-6 py-4 text-end",children:s("payments.actions")})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:Z.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"font-mono text-xs text-gray-400",children:e.id})}),a.jsx("td",{className:"px-6 py-4",children:z(e.type)}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-mavera-navy text-xs",children:e.bookingName}),a.jsx("span",{className:"text-[10px] text-gray-400 font-mono",children:e.bookingId})]})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:e.dueDate}),e.paidDate&&(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:[s("payments.paidOn"),": ",e.paidDate]})]})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("span",{className:"font-bold text-mavera-navy",children:[e.amount.toLocaleString()," SAR"]})}),a.jsx("td",{className:"px-6 py-4",children:e.method?a.jsx("span",{className:"text-gray-600",children:e.method}):a.jsx("span",{className:"text-gray-400 text-xs",children:s("payments.notPaid")})}),a.jsx("td",{className:"px-6 py-4",children:_(e.status)}),a.jsx("td",{className:"px-6 py-4 text-end",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["Paid"===e.status&&e.receiptUrl&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>M(e),className:"p-2 text-gray-400 hover:text-mavera-gold hover:bg-gray-100 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:s("payments.viewReceipt"),children:a.jsx(x.Z,{size:18})}),a.jsx("button",{onClick:()=>R(e),className:"p-2 text-gray-400 hover:text-mavera-gold hover:bg-gray-100 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:s("payments.downloadReceipt"),children:a.jsx(m.Z,{size:18})})]}),"Paid"===e.status&&e.receiptUrl&&(0,a.jsxs)("span",{className:"px-2 py-1 text-xs text-green-600 bg-green-50 rounded-lg border border-green-100 flex items-center gap-1",children:[a.jsx(p.Z,{size:14}),s("payments.receiptAvailable")]}),"Paid"!==e.status&&e.paymentLink&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>A(e),className:"flex items-center gap-1.5 px-3 py-1.5 bg-mavera-gold text-white rounded-lg text-xs font-bold hover:bg-mavera-goldHover transition-colors opacity-0 group-hover:opacity-100",title:s("payments.resendLink"),children:[a.jsx(u.Z,{size:14}),s("payments.resend")]}),a.jsx("button",{onClick:()=>S(e.paymentLink),className:"p-2 text-gray-400 hover:text-mavera-gold hover:bg-gray-100 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:s("payments.copyLink"),children:a.jsx(h.Z,{size:18})})]})]})})]},e.id))})]})})})]}),f&&a.jsx(j.Z,{isOpen:k,onClose:()=>{w(!1),N(null)},invoice:{id:f.id,client:P.name,amount:f.amount}})]})}},91470:(e,t,s)=>{"use strict";s.d(t,{Z:()=>x});var a=s(95344),r=s(3729),n=s(14513),i=s(97075);let l=(0,i.Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var d=s(66262),c=s(1960);let o=(0,i.Z)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),x=({isOpen:e,onClose:t,invoice:s})=>{let[i,x]=(0,r.useState)(!0),[m,p]=(0,r.useState)("");return((0,r.useEffect)(()=>{if(e&&s){x(!0);let e=setTimeout(()=>{p(`https://checkout.riyadbank.com/pay/token_${Math.random().toString(36).substr(2,9)}`),x(!1)},1500);return()=>clearTimeout(e)}},[e,s]),e&&s)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-mavera-navy/60 backdrop-blur-sm transition-opacity",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-up",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[a.jsx("h3",{className:"font-bold text-mavera-navy",children:"Payment Link"}),a.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-red-500",children:a.jsx(n.Z,{size:20})})]}),a.jsx("div",{className:"p-8 text-center min-h-[300px] flex flex-col justify-center",children:i?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(l,{size:48,className:"text-mavera-gold animate-spin"}),a.jsx("p",{className:"text-gray-500 font-medium",children:"Contacting Riyad Bank Gateway..."})]}):(0,a.jsxs)("div",{className:"animate-fade-in",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(d.Z,{size:32})}),a.jsx("h4",{className:"text-lg font-bold text-mavera-navy mb-1",children:s.client}),(0,a.jsxs)("p",{className:"text-gray-500 text-sm mb-6",children:["Amount Due: ",(0,a.jsxs)("span",{className:"font-bold text-mavera-navy",children:[s.amount.toLocaleString()," SAR"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-200 rounded-xl p-3 mb-6",children:[a.jsx("code",{className:"flex-1 text-xs text-gray-600 font-mono truncate",children:m}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(m),alert("Payment link copied to clipboard!")},className:"p-2 text-mavera-gold hover:bg-white rounded-lg transition-colors shadow-sm",children:a.jsx(c.Z,{size:16})})]}),a.jsx("div",{className:"flex gap-3",children:(0,a.jsxs)("button",{className:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-lg shadow-emerald-500/20 transition-all",children:[a.jsx(o,{size:18}),"Send via WhatsApp"]})})]})})]})]}):null}},63598:(e,t,s)=>{"use strict";s.d(t,{Zb:()=>n,aY:()=>l,Ol:()=>i});var a=s(95344);function r(...e){return e.filter(Boolean).join(" ")}function n({className:e,...t}){return a.jsx("div",{className:r("bg-white rounded-2xl shadow-card border border-gray-100",e),...t})}function i({className:e,...t}){return a.jsx("div",{className:r("p-6 pb-2",e),...t})}function l({className:e,...t}){return a.jsx("div",{className:r("p-6 pt-0",e),...t})}s(3729)},63024:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},85814:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},25545:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},1960:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},96885:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},53148:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},36135:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(97075).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},99739:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>i});let a=(0,s(86843).createProxy)(String.raw`/Users/amgedalmogahed/Documents/Rabwatech/Clients/Mavera/Web Project/mavera_admin_new/app/clients/[id]/payments/page.tsx`),{__esModule:r,$$typeof:n}=a,i=a.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,802,400],()=>s(27338));module.exports=a})();
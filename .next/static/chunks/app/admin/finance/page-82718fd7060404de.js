(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{93326:function(e,t,r){Promise.resolve().then(r.bind(r,46372))},46372:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var s=r(3827);r(64090);var a=r(40834),n=r(70094),i=r(48219),l=r(8967),c=r(57977);let o=(0,c.Z)("file-clock",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]]);var d=r(95032),x=r(43169);let m=(0,c.Z)("arrow-down-left",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);var u=()=>{let{t:e}=(0,x.Z)();return(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-card border border-gray-100 p-6 h-full",children:[(0,s.jsxs)("h3",{className:"font-bold text-mavera-navy mb-6 flex justify-between items-center",children:[e("fin.recentTrans"),(0,s.jsx)("button",{className:"text-xs text-mavera-gold hover:underline",children:"View All"})]}),(0,s.jsx)("div",{className:"space-y-6",children:[{id:1,client:"Al-Rajhi Family",amount:5e4,method:"HyperPay",status:"Success",time:"10 mins ago",ref:"HP-9921"},{id:2,client:"Golden Gala",amount:15e3,method:"Mada",status:"Success",time:"1 hour ago",ref:"HP-9920"},{id:3,client:"Fahad Wedding",amount:5e3,method:"Visa",status:"Success",time:"3 hours ago",ref:"HP-9919"},{id:4,client:"Corp Event #44",amount:25e3,method:"Bank Transfer",status:"Pending",time:"5 hours ago",ref:"BT-101"}].map(e=>(0,s.jsxs)("div",{className:"flex items-start justify-between group",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat("Success"===e.status?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"),children:"Success"===e.status?(0,s.jsx)(m,{size:18}):(0,s.jsx)(l.Z,{size:18})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold text-mavera-navy",children:e.client}),(0,s.jsxs)("p",{className:"text-xs text-gray-400 mt-0.5",children:[e.method," â€¢ ",e.time]})]})]}),(0,s.jsxs)("div",{className:"text-end",children:[(0,s.jsxs)("p",{className:"text-sm font-bold text-mavera-navy",children:[e.amount.toLocaleString()," SAR"]}),(0,s.jsx)("p",{className:"text-[10px] text-gray-400 font-mono",children:e.ref})]})]},e.id))})]})},h=r(1327),g=r(47907),v=()=>{let{t:e}=(0,x.Z)(),t=(0,g.useRouter)();return(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-end",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-mavera-navy",children:e("nav.financeDashboard")}),(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"Financial Pulse & Operations."})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(h.Z,{permission:"finance.sync_erp",children:(0,s.jsxs)("button",{className:"bg-white border border-gray-200 text-gray-600 px-4 py-2.5 rounded-xl text-sm font-bold flex items-center gap-2 hover:border-mavera-gold hover:text-mavera-navy transition-colors",children:[(0,s.jsx)(a.Z,{size:16}),e("fin.reconcile")]})}),(0,s.jsx)(h.Z,{permission:"finance.create_invoice",children:(0,s.jsxs)("button",{onClick:()=>t.push("/admin/finance/invoices"),className:"bg-mavera-gold text-white px-4 py-2.5 rounded-xl text-sm font-bold flex items-center gap-2 shadow-lg shadow-mavera-gold/20 hover:bg-mavera-goldHover transition-colors",children:[(0,s.jsx)(n.Z,{size:16}),e("fin.manualInv")]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-card border border-transparent hover:border-mavera-gold/30 transition-all group",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsx)("div",{className:"p-3 bg-green-50 text-green-600 rounded-xl group-hover:bg-green-100 transition-colors",children:(0,s.jsx)(i.Z,{size:24})}),(0,s.jsx)("span",{className:"text-[10px] font-bold bg-gray-100 text-gray-500 px-2 py-0.5 rounded uppercase",children:"Today"})]}),(0,s.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-1",children:e("fin.cashIn")}),(0,s.jsxs)("h3",{className:"text-3xl font-bold text-mavera-navy",children:["45,200 ",(0,s.jsx)("span",{className:"text-sm font-normal text-gray-400",children:"SAR"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-green-600 font-bold mt-2",children:[(0,s.jsx)(l.Z,{size:12}),(0,s.jsx)("span",{children:"+12% vs yesterday"})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-card border border-transparent hover:border-orange-100 transition-all group",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsx)("div",{className:"p-3 bg-orange-50 text-orange-500 rounded-xl group-hover:bg-orange-100 transition-colors",children:(0,s.jsx)(o,{size:24})}),(0,s.jsx)("span",{className:"text-[10px] font-bold bg-gray-100 text-gray-500 px-2 py-0.5 rounded uppercase",children:"Active"})]}),(0,s.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-1",children:e("fin.pendingInv")}),(0,s.jsxs)("h3",{className:"text-3xl font-bold text-mavera-navy",children:["128,500 ",(0,s.jsx)("span",{className:"text-sm font-normal text-gray-400",children:"SAR"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"15 invoices sent"})]}),(0,s.jsxs)("div",{className:"bg-mavera-navy text-white p-6 rounded-2xl shadow-luxury relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-10 -mt-10"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsx)("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:(0,s.jsx)(d.Z,{size:24,className:"text-mavera-gold"})}),(0,s.jsxs)("span",{className:"flex items-center gap-1.5 bg-green-500/20 text-green-300 px-2.5 py-1 rounded-lg text-xs font-bold border border-green-500/30",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e("fin.healthy")]})]}),(0,s.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-1",children:e("fin.erpStatus")}),(0,s.jsx)("h3",{className:"text-xl font-bold",children:"Oracle NetSuite"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Last Sync: 2 mins ago"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-card border border-gray-100 p-6",children:[(0,s.jsx)("h3",{className:"font-bold text-mavera-navy mb-4",children:"Action Center"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(h.Z,{permission:"finance.create_invoice",children:(0,s.jsxs)("button",{className:"flex items-center gap-3 p-4 rounded-xl border border-gray-100 hover:border-mavera-gold hover:bg-amber-50 transition-all text-start group",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-mavera-gold/10 text-mavera-gold flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,s.jsx)(n.Z,{size:20})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold text-mavera-navy text-sm",children:"Create Manual Invoice"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"For offline payments"})]})]})}),(0,s.jsx)(h.Z,{permission:"finance.sync_erp",children:(0,s.jsxs)("button",{className:"flex items-center gap-3 p-4 rounded-xl border border-gray-100 hover:border-blue-500 hover:bg-blue-50 transition-all text-start group",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,s.jsx)(a.Z,{size:20})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold text-mavera-navy text-sm",children:"Reconcile Payments"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Sync Gateway vs ERP"})]})]})})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-card border border-gray-100 p-8 flex flex-col items-center justify-center text-center min-h-[300px]",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(i.Z,{size:32,className:"text-gray-300"})}),(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-400",children:"Cash Flow Analytics"}),(0,s.jsx)("p",{className:"text-sm text-gray-300",children:"Live chart visualization"})]})]}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(u,{})})]})]})}},1327:function(e,t,r){"use strict";var s=r(3827);r(64090);var a=r(46960);t.Z=e=>{let{permission:t,children:r,fallback:n=null}=e;return(0,a.gI)(t)?(0,s.jsx)(s.Fragment,{children:r}):(0,s.jsx)(s.Fragment,{children:n})}},46960:function(e,t,r){"use strict";r.d(t,{Ho:function(){return c},aC:function(){return o},gI:function(){return d},i4:function(){return n.i}});var s=r(3827),a=r(64090),n=r(53537);let i={[n.i.SUPER_ADMIN]:["finance.view","finance.manage_invoices","finance.create_invoice","finance.sync_erp","finance.view_contracts","finance.manage_integrations","sales.view","sales.create_quote","leads.view","leads.manage"],[n.i.FINANCE_MANAGER]:["finance.view","finance.manage_invoices","finance.create_invoice","finance.sync_erp","finance.view_contracts","finance.manage_integrations"],[n.i.SALES_AGENT]:["sales.view","sales.create_quote","leads.view"],[n.i.CALL_CENTER]:["leads.view","leads.manage"],[n.i.COORDINATOR]:["finance.view_contracts"]},l=(0,a.createContext)(void 0),c=e=>{let{children:t}=e,[r,n]=(0,a.useState)(null),[c,o]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=localStorage.getItem("mavera_user");if(e)try{n(JSON.parse(e))}catch(e){console.error("Failed to parse stored user:",e),localStorage.removeItem("mavera_user")}o(!1)},[]),c)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-mavera-gold border-t-transparent rounded-full animate-spin"})}):(0,s.jsx)(l.Provider,{value:{user:r,login:e=>{n(e),localStorage.setItem("mavera_user",JSON.stringify(e))},logout:()=>{n(null),localStorage.removeItem("mavera_user")},hasPermission:e=>{if(!r)return!1;let t=(r.roles||[r.role]).flatMap(e=>i[e]||[]);return new Set([...t,...r.customPermissions||[]]).has(e)}},children:t})},o=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},d=e=>{let{hasPermission:t}=o();return t(e)}},57977:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var s=r(64090);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:d="",children:x,iconNode:m,...u}=e;return(0,s.createElement)("svg",{ref:t,...o,width:a,height:a,stroke:r,strokeWidth:i?24*Number(n)/Number(a):n,className:l("lucide",d),...!x&&!c(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(x)?x:[x]])}),x=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:c,...o}=r;return(0,s.createElement)(d,{ref:n,iconNode:t,className:l("lucide-".concat(a(i(e))),"lucide-".concat(e),c),...o})});return r.displayName=i(e),r}},95032:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(57977).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},8967:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(57977).Z)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},48219:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(57977).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},70094:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(57977).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},40834:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(57977).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},47907:function(e,t,r){"use strict";var s=r(15313);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},53537:function(e,t,r){"use strict";var s,a;r.d(t,{i:function(){return s}}),(a=s||(s={})).CALL_CENTER="CALL_CENTER",a.SALES_AGENT="SALES_AGENT",a.FINANCE_MANAGER="FINANCE_MANAGER",a.SUPER_ADMIN="SUPER_ADMIN",a.COORDINATOR="COORDINATOR"}},function(e){e.O(0,[169,971,69,744],function(){return e(e.s=93326)}),_N_E=e.O()}]);
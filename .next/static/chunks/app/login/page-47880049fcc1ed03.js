(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{58336:function(e,a,t){Promise.resolve().then(t.bind(t,77982))},77982:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return p}});var r=t(3827),s=t(64090),n=t(47907),i=t(77326),l=t(34059),c=t(85904),o=t(48219),d=t(97307),u=t(51930),m=t(37841);let h=(0,t(57977).Z)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var x=t(46960),p=()=>{let e=(0,n.useRouter)(),{login:a}=(0,x.aC)(),[t,p]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[g,N]=(0,s.useState)(!1),[b,y]=(0,s.useState)(null),[j,w]=(0,s.useState)(""),[A,k]=(0,s.useState)(!1),E=[{email:"admin@mavera.sa",password:"admin123",name:"Ahmed Al-Saud",role:x.i4.SUPER_ADMIN,icon:(0,r.jsx)(i.Z,{size:24}),color:"bg-red-500"},{email:"sales@mavera.sa",password:"sales123",name:"Mohammed Al-Rasheed",role:x.i4.SALES_AGENT,icon:(0,r.jsx)(l.Z,{size:24}),color:"bg-blue-500"},{email:"callcenter@mavera.sa",password:"call123",name:"Sara Abdullah",role:x.i4.CALL_CENTER,icon:(0,r.jsx)(c.Z,{size:24}),color:"bg-green-500"},{email:"finance@mavera.sa",password:"finance123",name:"Khalid Hassan",role:x.i4.FINANCE_MANAGER,icon:(0,r.jsx)(o.Z,{size:24}),color:"bg-purple-500"},{email:"coordinator@mavera.sa",password:"coord123",name:"Fatima Al-Otaibi",role:x.i4.COORDINATOR,icon:(0,r.jsx)(d.Z,{size:24}),color:"bg-orange-500"}],_=async r=>{r.preventDefault(),w(""),k(!0),await new Promise(e=>setTimeout(e,1e3));let s=E.find(e=>e.email===t&&e.password===f);if(s)switch(a({id:s.email,name:s.name,email:s.email,role:s.role,avatar:s.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),s.role){case x.i4.SUPER_ADMIN:e.push("/admin");break;case x.i4.SALES_AGENT:e.push("/sales-dashboard");break;case x.i4.CALL_CENTER:e.push("/leads");break;case x.i4.FINANCE_MANAGER:e.push("/admin/finance");break;case x.i4.COORDINATOR:e.push("/arrangements/enhanced");break;default:e.push("/sales-dashboard")}else w("البريد الإلكتروني أو كلمة المرور غير صحيحة"),k(!1)},C=e=>{p(e.email),v(e.password),y(e.role)},S=e=>({[x.i4.SUPER_ADMIN]:"Super Admin",[x.i4.SALES_AGENT]:"Sales Agent",[x.i4.CALL_CENTER]:"Call Center",[x.i4.FINANCE_MANAGER]:"Finance Manager",[x.i4.COORDINATOR]:"Coordinator"})[e];return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-mavera-navy via-mavera-navy/95 to-mavera-gold/20 flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute inset-0 opacity-5",children:(0,r.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),(0,r.jsx)("div",{className:"w-full max-w-6xl relative z-10",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"hidden lg:flex flex-col justify-center text-white",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"inline-block px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full mb-6",children:(0,r.jsx)("span",{className:"text-mavera-gold font-bold",children:"Mavera Luxury Events"})}),(0,r.jsx)("h1",{className:"text-5xl font-bold mb-4",children:"نظام إدارة الفعاليات"}),(0,r.jsx)("p",{className:"text-xl text-white/80 mb-8",children:"منصة متكاملة لإدارة الحجوزات والفعاليات الفاخرة"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-xl flex items-center justify-center",children:(0,r.jsx)(i.Z,{size:24,className:"text-mavera-gold"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold",children:"نظام صلاحيات متقدم"}),(0,r.jsx)("p",{className:"text-sm text-white/70",children:"تحكم كامل في صلاحيات المستخدمين"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-xl flex items-center justify-center",children:(0,r.jsx)(l.Z,{size:24,className:"text-mavera-gold"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold",children:"إدارة شاملة"}),(0,r.jsx)("p",{className:"text-sm text-white/70",children:"من العملاء المحتملين إلى التنفيذ"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8 lg:p-12",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-mavera-navy mb-2",children:"مرحباً بك"}),(0,r.jsx)("p",{className:"text-gray-500",children:"قم بتسجيل الدخول للوصول إلى لوحة التحكم"})]}),(0,r.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-bold text-gray-700 mb-2 block",children:"البريد الإلكتروني"}),(0,r.jsx)("input",{type:"email",value:t,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-mavera-gold outline-none transition-colors",placeholder:"example@mavera.sa",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-bold text-gray-700 mb-2 block",children:"كلمة المرور"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:g?"text":"password",value:f,onChange:e=>v(e.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-mavera-gold outline-none transition-colors",placeholder:"••••••••",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>N(!g),className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?(0,r.jsx)(u.Z,{size:20}):(0,r.jsx)(m.Z,{size:20})})]})]}),j&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j}),(0,r.jsx)("button",{type:"submit",disabled:A,className:"w-full px-6 py-4 bg-mavera-gold text-white rounded-xl font-bold hover:bg-mavera-goldHover disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all shadow-lg shadow-mavera-gold/30",children:A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري تسجيل الدخول..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{size:20}),"تسجيل الدخول"]})})]}),(0,r.jsxs)("div",{className:"relative my-8",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-4 bg-white text-gray-500",children:"أو تسجيل دخول سريع"})})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 text-center mb-3",children:"للتجربة: اختر أحد الحسابات التجريبية"}),E.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>C(e),className:"w-full p-4 border-2 rounded-xl transition-all flex items-center gap-3 ".concat(b===e.role?"border-mavera-gold bg-mavera-gold/5":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[(0,r.jsx)("div",{className:"w-10 h-10 ".concat(e.color," rounded-lg flex items-center justify-center text-white shrink-0"),children:e.icon}),(0,r.jsxs)("div",{className:"flex-1 text-right",children:[(0,r.jsx)("p",{className:"font-bold text-gray-900 text-sm",children:S(e.role)}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]})]},e.role))]}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"جميع الحسابات أعلاه تجريبية • كلمة المرور لكل حساب موضحة في الكود"})})]})]})})]})}},46960:function(e,a,t){"use strict";t.d(a,{Ho:function(){return c},aC:function(){return o},gI:function(){return d},i4:function(){return n.i}});var r=t(3827),s=t(64090),n=t(53537);let i={[n.i.SUPER_ADMIN]:["finance.view","finance.manage_invoices","finance.create_invoice","finance.sync_erp","finance.view_contracts","finance.manage_integrations","sales.view","sales.create_quote","leads.view","leads.manage"],[n.i.FINANCE_MANAGER]:["finance.view","finance.manage_invoices","finance.create_invoice","finance.sync_erp","finance.view_contracts","finance.manage_integrations"],[n.i.SALES_AGENT]:["sales.view","sales.create_quote","leads.view"],[n.i.CALL_CENTER]:["leads.view","leads.manage"],[n.i.COORDINATOR]:["finance.view_contracts"]},l=(0,s.createContext)(void 0),c=e=>{let{children:a}=e,[t,n]=(0,s.useState)(null),[c,o]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=localStorage.getItem("mavera_user");if(e)try{n(JSON.parse(e))}catch(e){console.error("Failed to parse stored user:",e),localStorage.removeItem("mavera_user")}o(!1)},[]),c)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-mavera-gold border-t-transparent rounded-full animate-spin"})}):(0,r.jsx)(l.Provider,{value:{user:t,login:e=>{n(e),localStorage.setItem("mavera_user",JSON.stringify(e))},logout:()=>{n(null),localStorage.removeItem("mavera_user")},hasPermission:e=>{if(!t)return!1;let a=(t.roles||[t.role]).flatMap(e=>i[e]||[]);return new Set([...a,...t.customPermissions||[]]).has(e)}},children:a})},o=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},d=e=>{let{hasPermission:a}=o();return a(e)}},57977:function(e,a,t){"use strict";t.d(a,{Z:function(){return u}});var r=t(64090);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase()),i=e=>{let a=n(e);return a.charAt(0).toUpperCase()+a.slice(1)},l=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()},c=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:m,...h}=e;return(0,r.createElement)("svg",{ref:a,...o,width:s,height:s,stroke:t,strokeWidth:i?24*Number(n)/Number(s):n,className:l("lucide",d),...!u&&!c(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(u)?u:[u]])}),u=(e,a)=>{let t=(0,r.forwardRef)((t,n)=>{let{className:c,...o}=t;return(0,r.createElement)(d,{ref:n,iconNode:a,className:l("lucide-".concat(s(i(e))),"lucide-".concat(e),c),...o})});return t.displayName=i(e),t}},97307:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(57977).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},48219:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(57977).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},51930:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(57977).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},37841:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(57977).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},85904:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(57977).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},77326:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(57977).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},34059:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(57977).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},47907:function(e,a,t){"use strict";var r=t(15313);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},53537:function(e,a,t){"use strict";var r,s;t.d(a,{i:function(){return r}}),(s=r||(r={})).CALL_CENTER="CALL_CENTER",s.SALES_AGENT="SALES_AGENT",s.FINANCE_MANAGER="FINANCE_MANAGER",s.SUPER_ADMIN="SUPER_ADMIN",s.COORDINATOR="COORDINATOR"}},function(e){e.O(0,[971,69,744],function(){return e(e.s=58336)}),_N_E=e.O()}]);